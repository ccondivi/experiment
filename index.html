<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teams Calculator</title>
    <!-- React dependencies -->
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f5f5f5;
        }
        .card {
            background: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .input {
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.375rem;
            width: 5rem;
        }
        .btn {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: 500;
            transition: background-color 0.2s;
            width: 100%;
            margin-bottom: 0.5rem;
        }
        .btn-primary {
            background-color: #9333ea;
            color: white;
        }
        .btn-primary:hover {
            background-color: #7e22ce;
        }
        .btn-outline {
            border: 1px solid #e2e8f0;
            background-color: transparent;
        }
        .btn-outline:hover {
            background-color: #f8fafc;
        }
        .badge {
            background-color: #f3e8ff;
            color: #6b21a8;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
        }
        .alert-icon {
            width: 1rem;
            height: 1rem;
            margin-top: 0.125rem;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const TeamsIcon = () => (
            <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fillRule="evenodd" clipRule="evenodd" d="M4.35053 11.9744C2.35996 11.8242 0 11.0371 0 10.25C0 8.0336 1.308 6.138 3.15771 5.36786C2.45315 4.8189 2 3.96237 2 3C2 1.34315 3.34315 0 5 0C6.19815 0 7.23225 0.70239 7.713 1.71787C8.36115 1.26539 9.14958 1 10 1C12.2091 1 14 2.79086 14 5C14 6.42736 13.2523 7.68014 12.1273 8.38804C14.3909 9.24657 16 11.4354 16 14C16 15.3584 11.6073 16 10 16C7.5 16 4 15 4 14C4 13.2892 4.12362 12.6072 4.35053 11.9744Z" fill="currentColor"/>
                <path fillRule="evenodd" clipRule="evenodd" d="M20.0001 10.25C20.0001 11.2796 17.2533 11.8386 15.6479 11.9697C15.4578 11.441 15.1956 10.9467 14.8731 10.4987C14.9159 10.4996 14.9583 10.5 15.0001 10.5C15.5337 10.5 16.6537 10.3782 17.6156 10.1214C17.9899 10.0215 18.2792 9.9169 18.478 9.8224C18.2774 7.8984 16.7386 6.5 15.0001 6.5C14.4915 6.5 14.0001 6.6197 13.5542 6.8372C13.8391 6.287 14 5.66231 14 5C14 4.65011 13.9552 4.31072 13.8708 3.98727C14.1457 4.30152 14.5497 4.5 15.0001 4.5C15.8285 4.5 16.5001 3.82843 16.5001 3C16.5001 2.17157 15.8285 1.5 15.0001 1.5C14.1717 1.5 13.5001 2.17157 13.5001 3C13.5001 3.02159 13.5006 3.04308 13.5015 3.06445C13.2043 2.52809 12.7875 2.06721 12.2871 1.71787C12.7679 0.70239 13.802 0 15.0001 0C16.657 0 18.0001 1.34315 18.0001 3C18.0001 3.96237 17.547 4.8189 16.8424 5.36786C18.6921 6.138 20.0001 8.0336 20.0001 10.25Z" fill="currentColor"/>
            </svg>
        );

        const TeamsPricingCalculator = () => {
            const [seats, setSeats] = React.useState('3');
            const [isActive, setIsActive] = React.useState(false);
            
            const calculateDiscountedPrice = (numSeats) => {
                const seatsNum = parseInt(numSeats) || 0;
                if (seatsNum <= 3) return 300;
                return seatsNum * 100;
            };

            const calculateOriginalPrice = (discountedPrice) => {
                return Math.round(discountedPrice / 0.85);
            };

            const handleInputChange = (e) => {
                const value = e.target.value.replace(/[^0-9]/g, '');
                setSeats(value);
            };

            const getInfoMessage = (numSeats) => {
                const seats = parseInt(numSeats);
                if (seats === 1) {
                    return "Teams isn't designed for individuals. Try Pro for free!";
                }
                if (seats === 2) {
                    return "Teams starts from $300/year for the first 3 people, including you.";
                }
                return null;
            };

            const getEffectiveSeats = (seats) => {
                return seats === '' ? '3' : seats;
            };

            const isEnterprise = parseInt(getEffectiveSeats(seats)) > 100;
            const discountedPrice = calculateDiscountedPrice(parseInt(getEffectiveSeats(seats)));
            const originalPrice = calculateOriginalPrice(discountedPrice);
            const infoMessage = getInfoMessage(seats);

            const getPriceLabel = (seats) => {
                const numSeats = parseInt(getEffectiveSeats(seats));
                if (numSeats <= 3) {
                    return '/year (3 seats included)';
                }
                if (numSeats <= 100) {
                    return `/year total for ${numSeats} people`;
                }
                return '';
            };

            const shouldShowFrom = (seats) => {
                const numSeats = parseInt(getEffectiveSeats(seats));
                return numSeats <= 3;
            };

            return (
                <div className="card p-6 max-w-sm">
                    <div className="flex items-start justify-between mb-4">
                        <div>
                            <h2 className="text-xl font-semibold mb-2">Teams</h2>
                            <p className="text-sm text-gray-600">
                                Streamline teamwork with tools to design, collaborate, and stay on-brand.
                            </p>
                        </div>
                        <div className="flex-shrink-0">
                            <div className="bg-purple-100 rounded-full p-2">
                                <TeamsIcon />
                            </div>
                        </div>
                    </div>

                    <div className="mb-6">
                        <div className="flex items-baseline mb-2">
                            {isEnterprise ? (
                                <div className="flex items-baseline">
                                    <span className="text-2xl font-bold">$</span>
                                    <span className="text-4xl font-bold">â€”</span>
                                </div>
                            ) : (
                                <div className="flex flex-col">
                                    <div className="flex items-center gap-2 mb-1">
                                        <span className="text-gray-500 text-sm line-through">${originalPrice}</span>
                                        <span className="badge">Save 15%</span>
                                    </div>
                                    <div className="flex items-baseline">
                                        {shouldShowFrom(seats) && (
                                            <span className="text-gray-600 text-xs align-top mt-1 mr-1">From</span>
                                        )}
                                        <span className="text-2xl font-bold">$</span>
                                        <span className="text-4xl font-bold">{discountedPrice}</span>
                                        <span className="text-sm text-gray-600 ml-1">USD</span>
                                    </div>
                                </div>
                            )}
                        </div>
                        {!isEnterprise && (
                            <div className="flex flex-col">
                                <span className="text-sm text-gray-600">
                                    {getPriceLabel(seats)}
                                </span>
                                <span className="text-sm text-gray-600">$100/person</span>
                            </div>
                        )}
                    </div>

                    <div className="mb-6">
                        <div className="flex gap-2 items-center mb-2">
                            <input
                                type="text"
                                value={seats}
                                onChange={handleInputChange}
                                onFocus={() => setIsActive(true)}
                                onBlur={() => setIsActive(false)}
                                className={`input ${!isActive && seats === '3' ? 'text-gray-400' : 'text-gray-900'}`}
                            />
                            <span className="text-sm text-gray-600">Seats</span>
                        </div>
                        
                        {infoMessage && (
                            <div className="flex items-start gap-2 text-sm text-gray-600 mt-2">
                                <svg className="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <line x1="12" y1="8" x2="12" y2="12" />
                                    <line x1="12" y1="16" x2="12.01" y2="16" />
                                </svg>
                                <p>{infoMessage}</p>
                            </div>
                        )}
                    </div>

                    {isEnterprise ? (
                        <div className="space-y-4">
                            <div className="flex items-start gap-2 text-sm text-gray-600">
                                <svg className="alert-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                    <circle cx="12" cy="12" r="10" />
                                    <line x1="12" y1="8" x2="12" y2="12" />
                                    <line x1="12" y1="16" x2="12.01" y2="16" />
                                </svg>
                                <p>Upgrade to Enterprise. Companies with more than 100 users, contact Sales for pricing.</p>
                            </div>
                            <button className="btn btn-primary">
                                Contact Sales
                            </button>
                        </div>
                    ) : (
                        <div className="space-y-4">
                            <button className="btn btn-primary">
                                Start a free trial
                            </button>
                            <button className="btn btn-outline">
                                Contact Sales
                            </button>
                        </div>
                    )}
                </div>
            );
        };

        ReactDOM.render(
            <TeamsPricingCalculator />,
            document.getElementById('root')
        );
    </script>
</body>
</html>
